<!DOCTYPE html>
<html dir="rtl" lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <title>المسبحة الإلكترونية المجانية | تطبيق التسبيح والأذكار الإسلامي | راشد ربيع</title>
    <title>المسبحة الإلكترونية المجانية | تطبيق التسبيح والأذكار الإسلامي | يعمل على جميع الأجهزة</title>
    <meta name="description"
        content="تطبيق المسبحة الإلكترونية المجانية - عداد تسبيح وأذكار ومواقيت صلاة وراديو القرآن الكريم. يعمل على جميع الأجهزة بدون تحميل. صدقة جارية من راشد ربيع.">
    <meta name="keywords"
        content="تسبيح, أذكار, مواقيت الصلاة, راديو القرآن, تطبيق إسلامي, صدقة جارية, راشد ربيع, electronic tasbih, islamic app, prayer times, quran radio, dhikr, muslim app, تطبيق مجاني, أذكار الصباح, أذكار المساء, تسبيح إلكتروني, مسبحة الكترونية">
    <meta name="author" content="راشد ربيع">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#667eea">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="images/app-preview.jpg">
    <link rel="apple-touch-icon" href="images/app-preview.jpg">
    <link rel="sitemap" type="application/xml" title="Sitemap" href="sitemap.xml">
    <link rel="robots" href="robots.txt">

    <!-- Open Graph Meta Tags for Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="المسبحة الإلكترونية المجانية | تطبيق التسبيح والأذكار الإسلامي">
    <meta property="og:description"
        content="تطبيق شامل للتسبيح والأذكار ومواقيت الصلاة وراديو القرآن الكريم. يعمل على جميع الأجهزة بدون تحميل. صدقة جارية مجانية.">
    <meta property="og:image" content="images/app-preview.jpg">
    <meta property="og:url" content="https://YOUR_REAL_DOMAIN.com/">
    <meta property="og:site_name" content="المسبحة الإلكترونية">
    <meta property="og:locale" content="ar_SA">
    <meta property="og:locale" content="ar_EG">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="المسبحة الإلكترونية المجانية | تطبيق التسبيح والأذكار الإسلامي">
    <meta name="twitter:description"
        content="تطبيق شامل للتسبيح والأذكار ومواقيت الصلاة وراديو القرآن الكريم. يعمل على جميع الأجهزة بدون تحميل.">
    <meta name="twitter:image" content="images/app-preview.jpg">

    <!-- Additional SEO Meta Tags -->
    <meta name="application-name" content="المسبحة الإلكترونية">
    <meta name="theme-color" content="#667eea">
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="apple-mobile-web-app-title" content="المسبحة الإلكترونية">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://YOUR_REAL_DOMAIN.com/">
    <!-- Schema.org for Google -->
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "المسبحة الإلكترونية المجانية",
    "url": "https://YOUR_REAL_DOMAIN.com/",
    "description": "تطبيق تسبيح وأذكار ومواقيت صلاة يعمل على جميع الأجهزة.",
    "applicationCategory": "Religion",
    "operatingSystem": "All",
    "image": "images/app-preview.jpg",
    "author": {
        "@type": "Person",
        "name": "راشد ربيع"
    }
    }
    </script>

    <!-- Language and Region -->
    <meta name="language" content="Arabic">
    <meta name="geo.region" content="SA">
    <meta name="geo.placename" content="Saudi Arabia">
    <meta name="geo.region" content="EG">
    <meta name="geo.placename" content="EGYPT">

    <!-- Google Site Verification -->
    <meta name="google-site-verification" content="your_verification_code_here" />

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-image: url('https://images.unsplash.com/photo-1604147706283-d7119b5b822c?q=80&w=1920&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
            direction: rtl;
            color: #333;
            transition: all 0.5s ease;
            position: relative;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.8) 0%, rgba(118, 75, 162, 0.8) 100%);
            z-index: -1;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #1a1a1a 0%, #2c2c2c 100%);
            color: #f0f0f0;
            transition: all 0.5s ease;
        }

        /* تحسين الأزرار في الوضع الليلي */
        body.dark-mode .btn {
            background: linear-gradient(135deg, #4a4a4a, #2c2c2c);
            color: #f0f0f0;
            border: 1px solid #555;
        }

        body.dark-mode .btn:hover {
            background: linear-gradient(135deg, #555, #333);
            transform: translateY(-2px);
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .banner {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .banner h1 {
            font-size: 2.5em;
            margin: 10px 0;
            color: white;
        }

        .banner-emoji {
            font-size: 3em;
        }

        .section {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        body.dark-mode .section {
            background: rgba(52, 73, 94, 0.9);
            color: white;
        }

        .section h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #4CAF50;
            font-size: 1.8em;
        }

        body.dark-mode .section h2 {
            color: #81C784;
        }

        /* قسم التسبيح */
        .counter-section {
            text-align: center;
        }

        #counter {
            font-size: 5em;
            font-weight: bold;
            color: #4CAF50;
            margin: 20px 0;
            transition: all 0.3s ease;
        }

        .counter-pulse {
            transform: scale(1.1);
            color: #e74c3c !important;
        }

        .milestone-indicator {
            font-size: 1.2em;
            color: #e74c3c;
            margin: 10px 0;
            min-height: 30px;
        }

        .controls {
            margin: 20px 0;
        }

        .btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            margin: 5px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .btn.reset {
            background: #f44336;
        }

        .btn.secondary {
            background: #2196F3;
        }

        .tasbeeh-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .tasbeeh-btn {
            background: #e91e63;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .tasbeeh-btn:hover {
            background: #c2185b;
            transform: scale(1.05);
        }



        /* قسم الراديو */
        .radio-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
            max-width: 300px;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4CAF50;
            cursor: pointer;
        }

        select {
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 14px;
            width: 100%;
            max-width: 300px;
            margin-top: 10px;
        }

        /* قسم مواقيت الصلاة */
        /* مربع الصلاة القادمة - تصميم محسن */
        .next-prayer-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 25px;
            text-align: center;
            margin: 25px auto;
            max-width: 400px;
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5);
            border: 3px solid rgba(255, 255, 255, 0.3);
            animation: nextPrayerGlow 4s ease-in-out infinite alternate;
            position: relative;
            overflow: hidden;
        }

        .next-prayer-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
            pointer-events: none;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%) translateY(-100%) rotate(45deg);
            }

            100% {
                transform: translateX(100%) translateY(100%) rotate(45deg);
            }
        }

        .next-prayer-header {
            font-size: 16px;
            opacity: 0.95;
            margin-bottom: 15px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .next-prayer-name {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.4);
            position: relative;
            z-index: 1;
        }

        .next-prayer-countdown {
            font-size: 42px;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            color: #FFD700;
            text-shadow: 0 3px 12px rgba(255, 215, 0, 0.7);
            margin-bottom: 15px;
            letter-spacing: 3px;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px 20px;
            border-radius: 15px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            position: relative;
            z-index: 1;
        }

        .countdown-parts {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .countdown-part {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 60px;
        }

        .countdown-number {
            font-size: 36px;
            font-weight: bold;
            line-height: 1;
        }

        .countdown-label {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 5px;
            font-weight: 500;
        }

        .countdown-separator {
            font-size: 30px;
            opacity: 0.7;
            animation: blink 1s infinite;
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 0.7;
            }

            51%,
            100% {
                opacity: 0.3;
            }
        }

        .next-prayer-time {
            font-size: 18px;
            opacity: 0.9;
            font-weight: 600;
            background: rgba(255, 255, 255, 0.15);
            padding: 8px 16px;
            border-radius: 20px;
            display: inline-block;
            position: relative;
            z-index: 1;
        }

        .prayer-progress {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            margin: 15px 0 10px 0;
            overflow: hidden;
            position: relative;
        }

        .prayer-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #FFD700, #FFA500);
            border-radius: 2px;
            transition: width 1s ease;
            position: relative;
        }

        .prayer-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: progressShine 2s infinite;
        }

        @keyframes progressShine {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        @keyframes nextPrayerGlow {
            0% {
                box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5);
                transform: translateY(0);
            }

            100% {
                box-shadow: 0 20px 50px rgba(102, 126, 234, 0.7);
                transform: translateY(-2px);
            }
        }

        @keyframes nextPrayerWarning {
            0% {
                box-shadow: 0 15px 40px rgba(243, 156, 18, 0.5);
                transform: translateY(0);
            }

            100% {
                box-shadow: 0 20px 50px rgba(243, 156, 18, 0.8);
                transform: translateY(-3px);
            }
        }

        @keyframes nextPrayerUrgent {
            0% {
                box-shadow: 0 15px 40px rgba(231, 76, 60, 0.6);
                transform: translateY(0) scale(1);
            }

            100% {
                box-shadow: 0 25px 60px rgba(231, 76, 60, 0.9);
                transform: translateY(-4px) scale(1.02);
            }
        }

        .prayer-times {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .prayer-item {
            background: rgba(33, 150, 243, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .prayer-item.current {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.2);
        }

        .prayer-item.next {
            border-color: #FF9800;
            background: rgba(255, 152, 0, 0.2);
        }

        .prayer-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .prayer-time {
            font-size: 1.2em;
            color: #2196F3;
        }

        /* قسم الإحصائيات */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 120px;
        }

        .stat-number {
            font-size: 2.8em;
            font-weight: 900;
            display: block !important;
            margin-bottom: 10px;
            color: #ffffff !important;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            letter-spacing: 1px;
            line-height: 1.2;
            z-index: 10;
            position: relative;
        }

        .stat-label {
            font-size: 1.2em;
            font-weight: 600;
            color: #ffffff !important;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            opacity: 1 !important;
            display: block !important;
            visibility: visible !important;
            z-index: 10;
            position: relative;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .dark-mode .stat-card:hover {
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.6);
        }

        /* تأكيد ظهور النصوص في كروت الإحصائيات */
        .stat-card * {
            visibility: visible !important;
            opacity: 1 !important;
        }

        .stat-card .stat-label,
        .stat-card .stat-number {
            display: block !important;
            color: inherit !important;
        }

        /* أزرار التحكم الثابتة */
        .fixed-controls {
            position: fixed;
            top: 20px;
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
        }

        .fixed-controls .btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            padding: 0;
            font-size: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .fixed-controls .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        /* تنسيق زر الوضع الليلي */
        #darkModeBtn {
            background: linear-gradient(135deg, #f9d423 0%, #ff4e50 100%);
            overflow: hidden;
            position: relative;
            transition: all 0.5s ease;
        }

        body.dark-mode #darkModeBtn {
            background: linear-gradient(135deg, #141e30 0%, #243b55 100%);
        }

        #darkModeIcon {
            display: inline-block;
            position: relative;
            z-index: 2;
            transition: transform 0.5s ease;
        }

        #darkModeBtn:hover #darkModeIcon {
            transform: scale(1.2);
        }

        #darkModeBtn:active #darkModeIcon {
            transform: scale(0.9);
        }

        #darkModeBtn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: scale(0);
            transition: transform 0.3s ease;
        }

        #darkModeBtn:hover::before {
            transform: scale(1);
        }

        @keyframes rotateIcon {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* تنسيق زر الوضع الليلي */
        #darkModeBtn {
            background: linear-gradient(135deg, #f9d423 0%, #ff4e50 100%);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        body.dark-mode #darkModeBtn {
            background: linear-gradient(135deg, #141e30 0%, #243b55 100%);
            box-shadow: 0 3px 10px rgba(255, 255, 255, 0.1);
        }

        /* وضع التركيز */
        .focus-mode-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .focus-content {
            text-align: center;
            color: white;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .focus-counter {
            font-size: clamp(4em, 12vw, 10em);
            font-weight: bold;
            color: #4CAF50;
            margin: 30px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .focus-dhikr {
            font-size: clamp(1.5em, 4vw, 3em);
            margin: 30px 0;
            max-width: 80%;
            line-height: 1.4;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .focus-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 20px 40px;
            margin: 15px;
            border-radius: 30px;
            font-size: clamp(16px, 2.5vw, 24px);
            cursor: pointer;
            min-width: 120px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .focus-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .focus-btn.secondary {
            background: #f44336;
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
        }

        .focus-btn.secondary:hover {
            box-shadow: 0 6px 20px rgba(244, 67, 54, 0.4);
        }

        .focus-controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 30px;
        }

        /* أزرار الأذكار المخصصة للحذف */
        .dhikr-delete-btn {
            background: #ff5722;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            margin: 3px;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .dhikr-delete-btn:hover {
            background: #e64a19;
            transform: scale(1.05);
        }

        .dhikr-delete-btn:active {
            transform: scale(0.95);
        }

        /* رسائل النجاح المتحركة */
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }

            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        .tasbeeh-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .tasbeeh-btn {
            background: #e91e63;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .tasbeeh-btn:hover {
            background: #c2185b;
            transform: scale(1.05);
        }


        /* تحسينات للشاشات الصغيرة */
        @media (max-width: 768px) {
            .focus-counter {
                font-size: clamp(3em, 15vw, 8em);
                margin: 20px 0;
            }

            .focus-dhikr {
                font-size: clamp(1.2em, 5vw, 2.5em);
                margin: 20px 0;
                max-width: 90%;
            }

            .focus-btn {
                padding: 15px 30px;
                font-size: clamp(14px, 3vw, 20px);
                margin: 10px 5px;
            }

            .focus-controls {
                margin-top: 20px;
                gap: 5px;
            }
        }

        /* تحسينات للشاشات الكبيرة جداً */
        @media (min-width: 1200px) {
            .focus-counter {
                font-size: 12em;
            }

            .focus-dhikr {
                font-size: 3.5em;
                max-width: 70%;
            }
        }

        /* إشعارات الإنجازات */
        .achievement-notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(76, 175, 80, 0.95);
            color: white;
            padding: 20px 30px;
            border-radius: 15px;
            font-size: 18px;
            z-index: 3000;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .achievement-notification.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1.1);
        }

        .achievement-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .achievement-icon {
            font-size: 2em;
        }

        /* قسم الأذكار والأدعية */
        .azkar-categories {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .azkar-category-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .azkar-category-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .azkar-category-btn.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            box-shadow: 0 6px 20px rgba(240, 147, 251, 0.4);
        }

        .azkar-content {
            background: rgb(43, 42, 42) border-radius: 20px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .azkar-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            transition: transform 0.3s ease;
        }

        /* إصلاح عرض الأذكار في الوضع النهاري */
        body:not(.dark-mode) .azkar-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white !important;
        }

        body:not(.dark-mode) .azkar-text {
            color: white !important;
        }

        body:not(.dark-mode) .azkar-count {
            color: white !important;
        }

        /* إصلاح عناصر الأذكار الأخرى في الوضع النهاري */
        body:not(.dark-mode) .azkar-counter-btn {
            background: rgba(255, 255, 255, 0.2) !important;
            color: white !important;
        }

        body:not(.dark-mode) .azkar-counter-display {
            background: rgba(255, 255, 255, 0.2) !important;
            color: white !important;
        }

        .azkar-item:hover {
            transform: translateY(-3px);
        }

        .azkar-text {
            font-size: 18px;
            line-height: 1.8;
            margin-bottom: 10px;
            text-align: center;
        }

        .azkar-count {
            text-align: center;
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .azkar-counter {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-top: 15px;
        }

        .azkar-counter-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .azkar-counter-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .azkar-counter-display {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }

        /* قسم المشاركة */
        .social-share {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        body.dark-mode .social-share {
            background: rgba(52, 73, 94, 0.9);
            color: white;
        }

        .social-share h3 {
            color: #4CAF50;
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        body.dark-mode .social-share h3 {
            color: #81C784;
        }

        .share-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .share-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            font-weight: bold;
        }

        .share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .share-btn.whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
        }

        .share-btn.telegram {
            background: linear-gradient(135deg, #0088cc, #005577);
        }

        .share-btn.facebook {
            background: linear-gradient(135deg, #1877F2, #0d47a1);
        }

        .share-btn.copy {
            background: linear-gradient(135deg, #FF9800, #F57C00);
        }

        /* حقوق النشر */
        .copyright {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            margin-top: 20px;
        }

        .copyright-content {
            color: white;
        }

        /* لوحة التحكم الإدارية */
        .control-panel-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .control-panel {
            background: white;
            border-radius: 20px;
            max-width: 1000px;
            width: 95%;
            max-height: 95vh;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            display: flex;
            flex-direction: column;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        body.dark-mode .control-panel {
            background: #2c2c2c;
            color: white;
        }

        .control-panel-header {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .control-panel-header h2 {
            margin: 0;
            font-size: 1.5em;
        }

        .close-panel {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-panel:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        /* تبويبات لوحة التحكم */
        .admin-tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 1px solid #ddd;
            overflow-x: auto;
            flex-shrink: 0;
        }

        .admin-tab {
            background: none;
            border: none;
            padding: 15px 20px;
            cursor: pointer;
            font-size: 0.9em;
            color: #666;
            transition: all 0.3s ease;
            white-space: nowrap;
            border-bottom: 3px solid transparent;
        }

        .admin-tab:hover {
            background: #e0e0e0;
            color: #333;
        }

        .admin-tab.active {
            background: white;
            color: #2196F3;
            border-bottom-color: #2196F3;
            font-weight: bold;
        }

        /* محتوى التبويبات */
        .admin-tab-content {
            padding: 20px;
            overflow-y: auto;
            flex: 1;
        }

        .admin-tab-content:not(.active) {
            display: none;
        }

        /* أنماط خاصة بإدارة الأذكار */
        .azkar-edit-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
        }

        .azkar-item {
            background: #f9f9f9;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            position: relative;
        }

        .azkar-item textarea {
            width: 100%;
            min-height: 60px;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 8px;
            font-family: inherit;
            resize: vertical;
        }

        .azkar-item-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .azkar-item-controls button {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
        }

        .azkar-delete {
            background: #f44336;
            color: white;
        }

        .azkar-save {
            background: #4CAF50;
            color: white;
        }

        /* أنماط إدارة الشعار */
        .logo-preview {
            text-align: center;
            margin: 15px 0;
        }

        .logo-preview img {
            max-width: 100px;
            max-height: 100px;
            border-radius: 10px;
            border: 2px solid #ddd;
        }

        .icon-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 10px 0;
        }

        .icon-btn {
            background: #f0f0f0;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .icon-btn:hover {
            background: #e0e0e0;
            border-color: #2196F3;
            transform: scale(1.1);
        }

        .icon-btn.selected {
            background: #2196F3;
            color: white;
            border-color: #1976D2;
        }

        /* أنماط إدارة الأقسام */
        .sections-manager {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }

        .section-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            background: white;
        }

        .section-item:last-child {
            border-bottom: none;
        }

        .section-item:hover {
            background: #f5f5f5;
        }

        .section-name {
            font-weight: bold;
            color: #333;
        }

        .section-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .control-btn.small {
            padding: 5px 10px;
            font-size: 0.8em;
        }

        .control-section {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 15px;
            border-right: 4px solid #4CAF50;
        }

        /* مؤشر تشغيل الأذان */
        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.05);
                opacity: 0.8;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        #adhanIndicator {
            animation: pulse 2s infinite;
        }

        /* أزرار ثانوية */
        .control-btn.secondary {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
        }

        .control-btn.secondary:hover {
            background: linear-gradient(135deg, #d32f2f, #b71c1c);
            transform: translateY(-2px);
        }

        body.dark-mode .control-section {
            background: rgba(76, 175, 80, 0.2);
        }

        .control-section h3 {
            margin: 0 0 15px 0;
            color: #4CAF50;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
        }

        body.dark-mode .control-row {
            background: rgba(255, 255, 255, 0.1);
        }

        /* تحسينات إضافية للوضع الليلي */
        body.dark-mode .counter-section,
        body.dark-mode .dhikr-section,
        body.dark-mode .azkar-section,
        body.dark-mode .stats-section,
        body.dark-mode .radio-section,
        body.dark-mode .prayer-times-section {
            background: rgba(44, 62, 80, 0.9) !important;
            border: 1px solid #555 !important;
        }

        body.dark-mode .banner {
            background: rgba(44, 62, 80, 0.9);
            border: 1px solid #555;
        }

        body.dark-mode .counter-display {
            background: rgba(76, 175, 80, 0.3);
            border: 2px solid #4CAF50;
        }

        body.dark-mode .dhikr-display {
            background: rgba(33, 150, 243, 0.3);
            border: 2px solid #2196F3;
        }

        /* الوضع الليلي - تصميم واضح وبسيط */
        body.dark-mode {
            background: #1a1a1a !important;
            background-image: url('https://images.unsplash.com/photo-1475274047050-1d0c0975c63e?q=80&w=1920&auto=format&fit=crop') !important;
            background-size: cover !important;
            background-position: center !important;
            background-attachment: fixed !important;
            color: #ffffff !important;
        }

        body.dark-mode::before {
            background: linear-gradient(135deg, rgba(20, 30, 48, 0.9) 0%, rgba(36, 59, 85, 0.9) 100%);
        }

        body.dark-mode .section {
            background: #2c2c2c !important;
            color: #ffffff !important;
            border: 1px solid #444 !important;
        }

        body.dark-mode .banner {
            background: #2c2c2c !important;
            color: #ffffff !important;
            border: 1px solid #444 !important;
        }

        body.dark-mode .btn {
            background: #444 !important;
            color: #ffffff !important;
            border: 1px solid #666 !important;
        }

        body.dark-mode .btn:hover {
            background: #555 !important;
        }

        .control-label {
            font-weight: bold;
            flex: 1;
        }

        .control-input {
            flex: 1;
            max-width: 200px;
        }

        .control-input input,
        .control-input select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }

        body.dark-mode .control-input input,
        body.dark-mode .control-input select {
            background: #444;
            color: white;
            border-color: #666;
        }

        /* مؤشر حالة المواقيت */
        .prayer-status {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 10px 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        body.dark-mode .prayer-status {
            background: #343a40;
            border-color: #495057;
        }

        #prayerModeIndicator {
            font-weight: bold;
            font-size: 14px;
        }

        .toggle-switch {
            position: relative;
            width: 60px;
            height: 30px;
            background: #ccc;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-switch.active {
            background: #4CAF50;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .toggle-switch.active::after {
            left: 33px;
        }

        .control-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .control-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            background: #4CAF50;
            color: white;
        }

        .control-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .control-btn.danger {
            background: #f44336;
        }

        .control-btn.danger:hover {
            background: #d32f2f;
        }

        .control-btn.secondary {
            background: #2196F3;
        }

        .control-btn.secondary:hover {
            background: #1976D2;
        }

        /* الوضع الليلي */
        .dark-mode {
            background: #1a1a1a !important;
            color: #ffffff !important;
        }

        .dark-mode .container {
            background: #2d2d2d;
        }

        .dark-mode .section {
            background: #333333;
            border: 1px solid #555;
        }

        .dark-mode .btn {
            background: #4a4a4a;
            color: #ffffff;
            border: 1px solid #666;
        }

        .dark-mode .btn:hover {
            background: #5a5a5a;
        }

        .dark-mode .stat-card {
            background: #222;
            border: 2px solid #81C784;
        }

        .dark-mode .stat-number {
            color: #fff !important;
            text-shadow: 0 4px 16px #000, 0 0px 2px #222 !important;
        }

        .dark-mode .stat-label {
            color: #fff !important;
            text-shadow: 0 2px 8px #000 !important;
        }

        .dark-mode .stat-number {
            color: #ffe !important;
            text-shadow: 0 2px 12px #000, 0 0px 2px #222 !important;
        }

        .dark-mode .stat-label {
            color: #aaa !important;
            text-shadow: none !important;
        }

        .dark-mode input,
        .dark-mode select {
            background: #404040;
            color: #ffffff;
            border: 1px solid #666;
            color: #ffe;
            text-shadow: 0 2px 12px #000, 0 0px 2px #222;
        }

        .dark-mode .prayer-item {
            background: #404040;
            border: 1px solid #555;
            color: #aaa;
        }

        .dark-mode .azkar-item {
            background: #404040;
            border: 1px solid #555;
        }



        /* رسالة تغيير الوضع */
        .mode-change-message {
            animation: fadeInOut 2.5s ease forwards;
        }

        @keyframes fadeInOut {
            0% {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }

            20% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }

            80% {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }

            100% {
                opacity: 0;
                transform: translateX(-50%) translateY(-20px);
            }
        }

        /* تأثيرات أيقونة الوضع الليلي */
        #darkModeIcon {
            display: inline-block;
            transition: transform 0.5s ease;
        }

        .dark-mode-rotate {
            animation: rotateIcon 0.5s ease forwards;
        }

        @keyframes rotateIcon {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* أنماط وضع المطور */
        .no-animations * {
            animation: none !important;
            transition: none !important;
        }

        /* نافذة تسجيل الدخول */
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .login-panel {
            background: white;
            border-radius: 20px;
            width: 400px;
            max-width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease-out;
        }

        body.dark-mode .login-panel {
            background: #2c2c2c;
            color: white;
        }

        .login-header {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            padding: 20px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .login-header h2 {
            margin: 0;
            font-size: 1.3em;
        }

        .login-content {
            padding: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }

        body.dark-mode .form-group label {
            color: white;
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            border-color: #2196F3;
            outline: none;
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.3);
        }

        body.dark-mode .form-group input {
            background: #444;
            color: white;
            border-color: #666;
        }

        .login-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 25px;
        }

        .login-buttons .control-btn {
            flex: 1;
            padding: 12px 20px;
            font-size: 16px;
        }

        body.dark-mode .control-panel {
            background: #2c2c2c !important;
            color: white !important;
        }

        body.dark-mode .admin-tabs {
            background: #333 !important;
        }

        body.dark-mode .admin-tab {
            color: #ccc !important;
        }

        body.dark-mode .admin-tab:hover {
            background: #444 !important;
            color: white !important;
        }

        body.dark-mode .admin-tab.active {
            background: #2c2c2c !important;
            color: #2196F3 !important;
        }

        body.dark-mode .control-input input,
        body.dark-mode .control-input select,
        body.dark-mode .control-input textarea {
            background: #444 !important;
            color: white !important;
            border-color: #666 !important;
        }

        body.dark-mode .azkar-item {
            background: #444 !important;
            color: white !important;
        }

        body.dark-mode .azkar-item textarea {
            background: #333 !important;
            color: white !important;
            border-color: #666 !important;
        }

        /* الشريط الإعلاني المتحرك */
        .announcement-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(90deg, #FF6B6B, #4ECDC4, #45B7D1, #96CEB4, #FFEAA7);
            background-size: 300% 100%;
            animation: gradientMove 8s ease infinite;
            color: white;
            padding: 12px 0;
            z-index: 9999;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            overflow: hidden;
        }

        .announcement-content {
            flex: 1;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
        }

        #announcementText {
            display: inline-block;
            animation: scrollText 40s linear infinite;
            padding-right: 100%;
        }

        .announcement-close {
            display: none;
        }

        @keyframes gradientMove {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        @keyframes scrollText {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        /* تعديل موضع الحاوية عند وجود الشريط */
        body {
            padding-top: 60px;
        }

        .fixed-controls {
            top: 70px;
        }

        .announcement-bar.hidden {
            display: none;
        }

        body.no-announcement {
            padding-top: 0;
        }

        /* تصميم متجاوب */
        @media (max-width: 768px) {
            .announcement-bar {
                padding: 8px 0;
                font-size: 14px;
            }

            #announcementText {
                animation-duration: 15s;
            }

            body {
                padding-top: 50px;
            }

            .fixed-controls {
                top: 60px;
            }

            #announcementText {
                animation-duration: 30s;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .banner h1 {
                font-size: 2em;
            }

            #counter {
                font-size: 4em;
            }

            .radio-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .fixed-controls {
                position: relative;
                top: auto;
                left: auto;
                flex-direction: row;
                justify-content: center;
                margin: 20px 0;
            }

            .share-buttons {
                grid-template-columns: repeat(2, 1fr);
            }

            .share-btn {
                font-size: 14px;
                padding: 12px 16px;
            }

            /* تحسينات للجوال - وضع المطور */
            #devToolbar {
                font-size: 10px !important;
                padding: 5px !important;
                flex-direction: column !important;
                gap: 5px !important;
            }

            #devConsole {
                width: 95% !important;
                height: 250px !important;
                top: 10px !important;
                right: 2.5% !important;
            }

            #quickTestPanel {
                top: 10px !important;
                left: 10px !important;
                font-size: 9px !important;
            }

            /* تحسينات للجوال - مربع الصلاة القادمة */
            .next-prayer-box {
                max-width: 350px;
                padding: 20px;
                margin: 20px auto;
            }

            .announcement-close {
                width: 25px;
                height: 25px;
                font-size: 16px;
                margin-left: 10px;
            }

            .next-prayer-countdown {
                font-size: 32px;
                padding: 12px 15px;
            }

            .countdown-number {
                font-size: 28px;
            }

            .countdown-label {
                font-size: 11px;
            }

            .countdown-part {
                min-width: 50px;
            }

            .countdown-separator {
                font-size: 24px;
            }
        }

        /* تحسينات الوضع الليلي لمربع الصلاة القادمة */
        body.dark-mode .next-prayer-box {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%) !important;
            border: 3px solid rgba(255, 255, 255, 0.2) !important;
        }

        body.dark-mode .next-prayer-countdown {
            background: rgba(0, 0, 0, 0.4) !important;
            border: 2px solid rgba(255, 215, 0, 0.4) !important;
        }

        body.dark-mode .prayer-progress {
            background: rgba(255, 255, 255, 0.1) !important;
        }

        body.dark-mode .next-prayer-time {
            background: rgba(255, 255, 255, 0.1) !important;
        }
    </style>
</head>

<body>
    <!-- الشريط الإعلاني المتحرك -->
    <div class="announcement-bar" id="announcementBar">
        <div class="announcement-content">
            <span id="announcementText">🎆مرحباً بكم في المسبحة الإلكترونية - صدقة جارية 🤲</span>
        </div>
        <button class="announcement-close" onclick="hideAnnouncementBar()">×</button>
    </div>

    <!-- أزرار التحكم الثابتة -->
    <div class="fixed-controls">
        <button class="btn" id="darkModeBtn" onclick="toggleDarkMode()" title="الوضع الليلي"><span
                id="darkModeIcon">☀️</span></button>
        <button class="btn" id="vibrationToggle" onclick="toggleVibration()" title="الاهتزاز">📳</button>
        <button class="btn" id="soundToggle" onclick="toggleSound()" title="الصوت">🔊</button>
        <button class="btn" onclick="showLoginPanel()" title="لوحة التحكم">⚙️</button>
        <button class="btn" id="bgChangeBtn" onclick="quickChangeBackground()" title="تغيير الخلفية">🎨</button>
    </div>

    <div class="container">
        <!-- البانر -->
        <div class="banner">
            <span class="banner-emoji">📿</span>
            <h1> المسبحة الإلكترونية - صدقة جارية </h1>
        </div>

        <!-- قسم التسبيح -->
        <div class="section counter-section">
            <h2>📿 التسبيح الإلكتروني</h2>
            <div id="counter">0</div>
            <div class="milestone-indicator" id="milestoneIndicator"></div>

            <div class="controls">
                <button class="btn" onclick="increment()">✨ تسبيح</button>
                <button class="btn reset" onclick="reset()">🔄 إعادة</button>
                <button class="btn secondary" onclick="toggleFocusMode()">🎯 تركيز</button>
                <button class="btn secondary" onclick="playTasbihSound('normal')">🔊 اختبار الصوت</button>
            </div>

            <div class="tasbeeh-buttons">
                <button class="tasbeeh-btn" onclick="setDhikr('سبحان الله', this)">سبحان الله</button>
                <button class="tasbeeh-btn" onclick="setDhikr('الحمد لله', this)">الحمد لله</button>
                <button class="tasbeeh-btn" onclick="setDhikr('الله أكبر', this)">الله أكبر</button>
                <button class="tasbeeh-btn" onclick="setDhikr('لا إله إلا الله', this)">لا إله إلا الله</button>
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <input type="text" id="customDhikr" placeholder="أدخل ذكراً مخصصاً..."
                    style="padding: 10px; border-radius: 10px; border: 1px solid #ddd; width: 200px; margin-left: 5px;">
                <button class="btn btn-green" onclick="addCustomDhikr()">✅ إضافة ذكر</button>
                <button class="btn btn-red" onclick="deleteCustomDhikr()">🗑️ حذف ذكر</button>
            </div>

            <!-- قائمة الأذكار المخصصة للحذف -->
            <div id="customDhikrList" style="text-align: center; margin-top: 15px; display: none;">
                <h4 style="color: #666; margin-bottom: 10px;">اختر الذكر المراد حذفه:</h4>
                <div id="dhikrButtons" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 5px;">
                    <!-- سيتم ملء الأزرار هنا بواسطة JavaScript -->
                </div>
                <button class="btn secondary" onclick="cancelDeleteDhikr()" style="margin-top: 10px;">❌ إلغاء</button>
            </div>

        </div>

        <!-- قسم الإحصائيات -->
        <div class="section">
            <h2>📊 الإحصائيات</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number" id="totalCount">0</span>
                    <span class="stat-label">إجمالي التسبيحات</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="todayCount">0</span>
                    <span class="stat-label">تسبيحات اليوم</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="weekCount">0</span>
                    <span class="stat-label">تسبيحات الأسبوع</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">7</span>
                    <span class="stat-label">أيام متتالية</span>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn secondary" onclick="exportStats()">📤 تصدير البيانات</button>
                <button class="btn secondary" onclick="importStats()">📥 استيراد البيانات</button>
                <button class="btn reset" onclick="resetStats()">🔄 إعادة تعيين</button>
            </div>
        </div>

        <!-- قسم راديو القرآن -->
        <div class="section">
            <h2>📻 راديو القرآن الكريم</h2>
            <div class="radio-controls">
                <button class="btn" id="playRadio" onclick="toggleRadio()">▶️ تشغيل</button>
                <button class="btn secondary" onclick="stopRadio()">⏹️ إيقاف</button>
                <div class="volume-control">
                    <span>🔊</span>
                    <input type="range" id="volumeSlider" min="0" max="100" value="50" onchange="setVolume(this.value)">
                </div>
            </div>
            <select id="radioStation">
                <option value="https://stream.radiojar.com/8s5u5tpdtwzuv">إذاعة القرآن الكريم - القاهرة</option>
                <option value="https://backup.qurango.net/radio/mix">القرآن الكريم (متنوع)</option>
                <option value="https://backup.qurango.net/radio/tafseer">إذاعة التفسير</option>
                <option value="https://backup.qurango.net/radio/ahmad_alajmy">أحمد العجمي</option>
                <option value="https://backup.qurango.net/radio/maher_almueaqly">ماهر المعيقلي</option>
            </select>
        </div>

        <!-- قسم مواقيت الصلاة -->
        <div class="section">
            <h2>🕌 مواقيت الصلاة</h2>

            <!-- مربع الصلاة القادمة -->
            <div class="next-prayer-box" id="nextPrayerBox">
                <div class="next-prayer-header">
                    <span>🕐</span>
                    <span>الصلاة القادمة</span>
                </div>
                <div class="next-prayer-name" id="nextPrayerName">الفجر</div>

                <div class="next-prayer-countdown" id="nextPrayerCountdown">
                    <div class="countdown-parts">
                        <div class="countdown-part">
                            <span class="countdown-number" id="hoursLeft">00</span>
                            <span class="countdown-label">ساعة</span>
                        </div>
                        <span class="countdown-separator">:</span>
                        <div class="countdown-part">
                            <span class="countdown-number" id="minutesLeft">00</span>
                            <span class="countdown-label">دقيقة</span>
                        </div>
                        <span class="countdown-separator">:</span>
                        <div class="countdown-part">
                            <span class="countdown-number" id="secondsLeft">00</span>
                            <span class="countdown-label">ثانية</span>
                        </div>
                    </div>
                </div>

                <div class="prayer-progress">
                    <div class="prayer-progress-bar" id="prayerProgressBar" style="width: 0%"></div>
                </div>

                <!-- تم حذف الوقت من مربع الصلاة القادمة بناءً على طلب المستخدم -->
            </div>

            <div class="prayer-times" id="prayerTimesContainer">
                <div class="prayer-item">
                    <div class="prayer-name">الفجر</div>
                    <div class="prayer-time" id="fajr-time">4:12 ص</div>
                </div>
                <div class="prayer-item">
                    <div class="prayer-name">الشروق</div>
                    <div class="prayer-time" id="sunrise-time">5:58 ص</div>
                </div>
                <div class="prayer-item">
                    <div class="prayer-name">الظهر</div>
                    <div class="prayer-time" id="dhuhr-time">12:59 م</div>
                </div>
                <div class="prayer-item">
                    <div class="prayer-name">العصر</div>
                    <div class="prayer-time" id="asr-time">4:33 م</div>
                </div>
                <div class="prayer-item">
                    <div class="prayer-name">المغرب</div>
                    <div class="prayer-time" id="maghrib-time">7:59 م</div>
                </div>
                <div class="prayer-item">
                    <div class="prayer-name"
                        style="background:#ffe082; color:#6d4c41; border:2px solid #ff9800; font-weight:bold; border-radius:8px;">
                        العشاء</div>
                    <div class="prayer-time" id="isha-time"
                        style="background:#ffe082; color:#6d4c41; border:2px solid #ff9800; font-weight:bold; border-radius:8px;">
                        9:32 م</div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn secondary" onclick="requestNotificationPermission()">🔔 تفعيل إشعارات الصلاة</button>
                <button class="btn secondary" onclick="playAdhanSound()">🎵 اختبار صوت الأذان</button>
                <div id="adhanIndicator" style="display: none; margin-top: 10px; color: #4CAF50; font-weight: bold;">🎵
                    يتم تشغيل الأذان...</div>
            </div>
        </div>

        <!-- قسم الأذكار والأدعية -->
        <div class="section">
            <h2>📿 الأذكار والأدعية</h2>

            <!-- أزرار التصنيفات -->
            <div class="azkar-categories">
                <button class="azkar-category-btn active" onclick="showAzkarCategory('morning')">🌅 أذكار
                    الصباح</button>
                <button class="azkar-category-btn" onclick="showAzkarCategory('evening')">🌆 أذكار المساء</button>
                <button class="azkar-category-btn" onclick="showAzkarCategory('sleep')">🌙 أذكار النوم</button>
                <button class="azkar-category-btn" onclick="showAzkarCategory('prayer')">🤲 أذكار الصلاة</button>
                <button class="azkar-category-btn" onclick="showAzkarCategory('travel')">✈️ أذكار السفر</button>
                <button class="azkar-category-btn" onclick="showAzkarCategory('food')">🍽️ أذكار الطعام</button>
                <button class="azkar-category-btn" onclick="showAzkarCategory('general')">📖 أذكار عامة</button>
            </div>

            <!-- محتوى الأذكار -->
            <div class="azkar-content" id="azkarContent">
                <!-- سيتم ملء المحتوى بواسطة JavaScript -->
            </div>
        </div>

        <!-- قسم المشاركة -->
        <div class="social-share">
            <h3>📢 شارك التطبيق</h3>
            <div class="share-buttons">
                <button class="share-btn whatsapp" onclick="shareApp('whatsapp')">
                    📱 واتساب
                </button>
                <button class="share-btn telegram" onclick="shareApp('telegram')">
                    ✈️ تيليجرام
                </button>
                <button class="share-btn facebook" onclick="shareApp('facebook')">
                    📘 فيسبوك
                </button>
                <button class="share-btn copy" onclick="copyAppLink()">
                    📋 نسخ الرابط
                </button>
            </div>
        </div>

        <!-- حقوق النشر -->
        <div class="copyright">
            <div class="copyright-content">
                <p>🌟 المسبحة الإلكترونية - تطبيق شامل للذكر والتسبيح</p>
                <p>💻 تطوير: راشد ربيع</p>
                <small>جميع الحقوق محفوظة © 2025</small>
                <p>
                    📧
                    البريد الإلكتروني : <a href="mailto:rashedrbaee20081217@gmail.com">rashedrbaee20081217@gmail.com</a>
                </p>

            </div>
        </div>
    </div>

    <!-- وضع التركيز -->
    <div class="focus-mode-overlay" id="focusOverlay">
        <div class="focus-content">
            <div class="focus-dhikr" id="focusDhikr">اختر ذكراً للبدء</div>
            <div class="focus-counter" id="focusCounter">0</div>
            <div class="focus-controls">
                <button class="focus-btn" onclick="focusIncrement()">تسبيح</button>
                <button class="focus-btn secondary" onclick="toggleFocusMode()">خروج</button>
            </div>
        </div>
    </div>

    <!-- إشعار الإنجازات -->
    <div class="achievement-notification" id="achievementNotification">
        <div class="achievement-content">
            <div class="achievement-icon">🏆</div>
            <div class="achievement-text" id="achievementText"></div>
        </div>
    </div>

    <!-- نافذة تسجيل الدخول -->
    <div class="login-overlay" id="loginOverlay" style="display: none;">
        <div class="login-panel">
            <div class="login-header">
                <h2>🔒 تسجيل الدخول</h2>
                <button class="close-panel" onclick="closeLoginPanel()">✕</button>
            </div>
            <div class="login-content">
                <div class="login-form">
                    <div class="form-group">
                        <label>👤 اسم المستخدم</label>
                        <input type="text" id="adminUsername" placeholder="أدخل اسم المستخدم">
                    </div>
                    <div class="form-group">
                        <label>🔑 كلمة المرور</label>
                        <input type="password" id="adminPassword" placeholder="أدخل كلمة المرور">
                    </div>
                    <div class="login-buttons">
                        <button class="control-btn" onclick="attemptLogin()">🔓 دخول</button>
                        <button class="control-btn secondary" onclick="closeLoginPanel()">❌ إلغاء</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- لوحة التحكم الإدارية -->
    <div class="control-panel-overlay" id="controlPanelOverlay" style="display: none;">
        <div class="control-panel">
            <div class="control-panel-header">
                <h2>🛠️ لوحة التحكم الإدارية</h2>
                <button class="close-panel" onclick="closeControlPanel()">✕</button>
            </div>

            <!-- قائمة التبويبات -->
            <div class="admin-tabs">
                <button class="admin-tab active" onclick="showAdminTab('azkar')">📿 إدارة الأذكار</button>
                <button class="admin-tab" onclick="showAdminTab('sync')">🌐 المزامنة السحابية</button>
                <button class="admin-tab" onclick="showAdminTab('logo')">🖼️ إدارة الشعار</button>
                <button class="admin-tab" onclick="showAdminTab('prayers')">🕌 إدارة المواقيت</button>
                <button class="admin-tab" onclick="showAdminTab('adhan')">🎵 إدارة الأذان</button>
                <button class="admin-tab" onclick="showAdminTab('sections')">📋 إدارة الأقسام</button>
                <button class="admin-tab" onclick="showAdminTab('content')">📝 إدارة المحتوى</button>
                <button class="admin-tab" onclick="showAdminTab('security')">🔒 الأمان</button>
            </div>



            <!-- تبويب المزامنة السحابية -->
            <div class="admin-tab-content" id="sync-tab">
                <div class="control-section">
                    <h3>🌐 معلومات المزامنة السحابية</h3>
                    <div class="control-row">
                        <span class="control-label">حالة المزامنة</span>
                        <div class="control-input">
                            <span id="syncStatus" style="padding: 8px 15px; border-radius: 20px; font-weight: bold;">
                                🔄 جاري التحقق...
                            </span>
                        </div>
                    </div>

                    <div class="control-row">
                        <span class="control-label">معرف المزامنة</span>
                        <div class="control-input">
                            <input type="text" id="syncId" readonly style="background: #f5f5f5; cursor: text;"
                                placeholder="سيتم إنشاؤه تلقائياً">
                            <button class="btn secondary" onclick="copySyncId()" style="margin-right: 10px;">📋
                                نسخ</button>
                        </div>
                    </div>

                    <div class="control-row">
                        <span class="control-label">إدارة البيانات</span>
                        <div class="control-input">
                            <button class="btn secondary" onclick="forceSyncToCloud()">☁️ رفع للسحابة</button>
                            <button class="btn secondary" onclick="forceSyncFromCloud()" style="margin-right: 10px;">📥
                                تحميل من السحابة</button>
                            <button class="btn danger" onclick="resetSyncData()" style="margin-right: 10px;">🗑️ مسح
                                البيانات</button>
                        </div>
                    </div>

                    <div class="control-section">
                        <h4>📊 إحصائيات المزامنة</h4>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-top: 10px;">
                            <p><strong>📿 الأذكار المخصصة:</strong> <span id="customDhikrCount">0</span></p>
                            <p><strong>🤲 الأدعية المضافة:</strong> <span id="customAzkarCount">0</span></p>
                            <p><strong>🕐 آخر مزامنة:</strong> <span id="lastSyncTime">لم تتم بعد</span></p>
                        </div>
                    </div>

                    <div class="control-section">
                        <h4>ℹ️ كيفية استخدام المزامنة</h4>
                        <div
                            style="background: #e3f2fd; padding: 15px; border-radius: 10px; margin-top: 10px; font-size: 14px;">
                            <p><strong>1.</strong> المزامنة تعمل تلقائياً عند إضافة أو حذف الأذكار</p>
                            <p><strong>2.</strong> معرف المزامنة يربط جميع أجهزتك ببعض</p>
                            <p><strong>3.</strong> احفظ معرف المزامنة لاستخدامه على أجهزة أخرى</p>
                            <p><strong>4.</strong> البيانات محفوظة بأمان في السحابة</p>
                        </div>
                    </div>
                </div>
            </div>



            <!-- تبويب إدارة الأذكار -->
            <div class="admin-tab-content" id="azkar-tab">
                <div class="control-section">
                    <h3>📿 إضافة ذكر جديد</h3>
                    <div class="control-row">
                        <span class="control-label">التصنيف</span>
                        <div class="control-input">
                            <select id="newAzkarCategory">
                                <option value="morning">أذكار الصباح</option>
                                <option value="evening">أذكار المساء</option>
                                <option value="sleep">أذكار النوم</option>
                                <option value="prayer">أذكار الصلاة</option>
                                <option value="travel">أذكار السفر</option>
                                <option value="food">أذكار الطعام</option>
                                <option value="general">أذكار عامة</option>
                            </select>
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">نص الذكر</span>
                        <div class="control-input">
                            <textarea id="newAzkarText" placeholder="أدخل نص الذكر هنا..." rows="3"></textarea>
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">عدد التكرار</span>
                        <div class="control-input">
                            <input type="number" id="newAzkarCount" min="1" max="1000" value="1">
                        </div>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="addNewAzkar()">➕ إضافة الذكر</button>
                        <button class="control-btn secondary" onclick="previewAzkar()">👁️ معاينة</button>
                    </div>
                </div>

                <div class="control-section">
                    <h3>📝 تعديل الأذكار الموجودة</h3>
                    <div class="control-row">
                        <span class="control-label">اختر التصنيف</span>
                        <div class="control-input">
                            <select id="editAzkarCategory" onchange="loadAzkarForEdit()">
                                <option value="morning">أذكار الصباح</option>
                                <option value="evening">أذكار المساء</option>
                                <option value="sleep">أذكار النوم</option>
                                <option value="prayer">أذكار الصلاة</option>
                                <option value="travel">أذكار السفر</option>
                                <option value="food">أذكار الطعام</option>
                                <option value="general">أذكار عامة</option>
                            </select>
                        </div>
                    </div>
                    <div id="azkarEditList" class="azkar-edit-list">
                        <!-- سيتم ملء هذا القسم ديناميكياً -->
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="saveAzkarChanges()">� حفظ التغييرات</button>
                        <button class="control-btn danger" onclick="resetAzkarCategory()">🔄 استعادة الافتراضي</button>
                    </div>
                </div>
            </div>

            <!-- تبويب إدارة الشعار -->
            <div class="admin-tab-content" id="logo-tab" style="display: none;">
                <div class="control-section">
                    <h3>🖼️ تغيير شعار التطبيق</h3>
                    <div class="control-row">
                        <span class="control-label">الشعار الحالي</span>
                        <div class="logo-preview">
                            <img id="currentLogo"
                                src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📿</text></svg>"
                                alt="شعار التطبيق" style="width: 80px; height: 80px; border-radius: 10px;">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">رفع شعار جديد</span>
                        <div class="control-input">
                            <input type="file" id="logoUpload" accept="image/*" onchange="previewLogo()">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">أو استخدم رابط صورة</span>
                        <div class="control-input">
                            <input type="url" id="logoUrl" placeholder="https://example.com/logo.png"
                                onchange="previewLogoFromUrl()">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">اختر من الأيقونات الجاهزة</span>
                        <div class="icon-selector">
                            <button class="icon-btn" onclick="selectIcon('📿', this)">📿</button>
                            <button class="icon-btn" onclick="selectIcon('🕌', this)">🕌</button>
                            <button class="icon-btn" onclick="selectIcon('☪️', this)">☪️</button>
                            <button class="icon-btn" onclick="selectIcon('🤲', this)">🤲</button>
                            <button class="icon-btn" onclick="selectIcon('📖', this)">📖</button>
                            <button class="icon-btn" onclick="selectIcon('🌙', this)">🌙</button>
                        </div>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="applyNewLogo()">✅ تطبيق الشعار</button>
                        <button class="control-btn secondary" onclick="resetLogo()">🔄 استعادة الافتراضي</button>
                    </div>
                </div>
            </div>

            <!-- تبويب إدارة مواقيت الصلاة -->
            <div class="admin-tab-content" id="prayers-tab" style="display: none;">
                <div class="control-section">
                    <h3>🕌 إعدادات مواقيت الصلاة</h3>
                    <div class="prayer-status" id="prayerStatus">
                        <span id="prayerModeIndicator">🌐 المواقيت التلقائية مفعلة</span>
                    </div>
                    <div class="control-row">
                        <span class="control-label">المدينة</span>
                        <div class="control-input">
                            <input type="text" id="cityName" placeholder="اسم المدينة" value="القاهرة">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">البلد</span>
                        <div class="control-input">
                            <input type="text" id="countryName" placeholder="اسم البلد" value="مصر">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">خط الطول</span>
                        <div class="control-input">
                            <input type="number" id="longitude" step="0.000001" placeholder="31.2357">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">خط العرض</span>
                        <div class="control-input">
                            <input type="number" id="latitude" step="0.000001" placeholder="30.0444">
                        </div>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="updatePrayerLocation()">📍 تحديث الموقع</button>
                        <button class="control-btn secondary" onclick="getCurrentLocation()">🌍 الموقع الحالي</button>
                    </div>
                </div>

                <div class="control-section">
                    <h3>⏰ تعديل المواقيت يدوياً</h3>
                    <div class="prayer-times-editor">
                        <div class="control-row">
                            <span class="control-label">الفجر</span>
                            <div class="control-input">
                                <input type="time" id="fajrTime" value="04:12" onchange="updatePrayerTime('fajr')">
                            </div>
                        </div>
                        <div class="control-row">
                            <span class="control-label">الشروق</span>
                            <div class="control-input">
                                <input type="time" id="sunriseTime" value="05:58"
                                    onchange="updatePrayerTime('sunrise')">
                            </div>
                        </div>
                        <div class="control-row">
                            <span class="control-label">الظهر</span>
                            <div class="control-input">
                                <input type="time" id="dhuhrTime" value="12:59" onchange="updatePrayerTime('dhuhr')">
                            </div>
                        </div>
                        <div class="control-row">
                            <span class="control-label">العصر</span>
                            <div class="control-input">
                                <input type="time" id="asrTime" value="16:33" onchange="updatePrayerTime('asr')">
                            </div>
                        </div>
                        <div class="control-row">
                            <span class="control-label">المغرب</span>
                            <div class="control-input">
                                <input type="time" id="maghribTime" value="19:59"
                                    onchange="updatePrayerTime('maghrib')">
                            </div>
                        </div>
                        <div class="control-row">
                            <span class="control-label">العشاء</span>
                            <div class="control-input">
                                <input type="time" id="ishaTime" value="21:32" onchange="updatePrayerTime('isha')">
                            </div>
                        </div>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="savePrayerTimes()">💾 حفظ المواقيت</button>
                        <button class="control-btn secondary" onclick="resetPrayerTimes()">🔄 إعادة تعيين</button>
                    </div>
                </div>
            </div>

            <!-- تبويب إدارة الأذان -->
            <div class="admin-tab-content" id="adhan-tab" style="display: none;">
                <div class="control-section">
                    <h3>🎵 إدارة ملفات الأذان</h3>
                    <div class="control-row">
                        <span class="control-label">رفع ملف أذان جديد</span>
                        <div class="control-input">
                            <input type="file" id="adhanFileUpload" accept="audio/*" onchange="showSelectedFile()">
                            <small id="selectedFileName" style="color: #666; margin-top: 5px; display: block;">اختر ملف
                                صوتي (MP3, WAV)</small>
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">أو استخدم رابط صوتي</span>
                        <div class="control-input">
                            <input type="url" id="adhanUrlInput" placeholder="https://example.com/adhan.mp3"
                                style="width: 70%; margin-left: 10px;">
                            <button class="control-btn small" onclick="addAdhanUrl()">إضافة</button>
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">مستوى صوت الأذان</span>
                        <div class="control-input">
                            <input type="range" id="adhanVolume" min="0" max="100" value="80"
                                oninput="updateAdhanVolume()">
                            <span id="volumeValue" style="margin-right: 10px; font-weight: bold;">80%</span>
                        </div>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="testAdhan()">🔊 اختبار الأذان</button>
                        <button class="control-btn" onclick="saveAdhanSettings()">💾 حفظ الإعدادات</button>
                        <button class="control-btn secondary" onclick="stopAdhan()">⏹️ إيقاف</button>
                    </div>
                </div>

                <div class="control-section">
                    <h3>⏰ إعدادات تشغيل الأذان</h3>
                    <div class="control-row">
                        <span class="control-label">تشغيل الأذان للفجر</span>
                        <div class="control-input">
                            <input type="checkbox" id="fajrAdhanEnabled" onchange="togglePrayerAdhan('fajr')">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">تشغيل الأذان للظهر</span>
                        <div class="control-input">
                            <input type="checkbox" id="dhuhrAdhanEnabled" onchange="togglePrayerAdhan('dhuhr')">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">تشغيل الأذان للعصر</span>
                        <div class="control-input">
                            <input type="checkbox" id="asrAdhanEnabled" onchange="togglePrayerAdhan('asr')">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">تشغيل الأذان للمغرب</span>
                        <div class="control-input">
                            <input type="checkbox" id="maghribAdhanEnabled" onchange="togglePrayerAdhan('maghrib')">
                        </div>
                    </div>
                    <div class="control-row">
                        <div class="control-input">
                            <input type="checkbox" id="ishaAdhanEnabled" onchange="togglePrayerAdhan('isha')">
                        </div>
                    </div>
                </div>
            </div>

            <!-- تبويب إدارة الأقسام -->
            <div class="admin-tab-content" id="sections-tab" style="display: none;">
                <div class="control-section">
                    <h3>📋 إدارة أقسام التطبيق</h3>
                    <div class="sections-manager" id="sectionsManager">
                        <!-- سيتم ملء هذا القسم ديناميكياً -->
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="addNewSection()">➕ إضافة قسم جديد</button>
                        <button class="control-btn secondary" onclick="updateSectionsManager()">🔄 تحديث
                            القائمة</button>
                    </div>
                </div>
            </div>

            <!-- تبويب إدارة المحتوى -->
            <div class="admin-tab-content" id="content-tab" style="display: none;">
                <div class="control-section">
                    <h3>📝 إدارة نصوص التطبيق</h3>
                    <div class="control-row">
                        <span class="control-label">عنوان التطبيق</span>
                        <div class="control-input">
                            <input type="text" id="appTitle" value="المسبحة الإلكترونية - صدقة جارية">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">وصف التطبيق</span>
                        <div class="control-input">
                            <textarea id="appDescription" rows="3"
                                placeholder="وصف التطبيق">تطبيق إسلامي شامل للتسبيح والأذكار ومواقيت الصلاة</textarea>
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">رسالة الترحيب</span>
                        <div class="control-input">
                            <textarea id="welcomeMessage" rows="3" placeholder="رسالة الترحيب">بسم الله الرحمن الرحيم
أهلاً وسهلاً بك في المسبحة الإلكترونية</textarea>
                        </div>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="updateAppContent()">💾 حفظ التغييرات</button>
                        <button class="control-btn secondary" onclick="previewContent()">👁️ معاينة</button>
                        <button class="control-btn secondary" onclick="exportContentAndThemeSettings()">📤 تصدير
                            الإعدادات</button>
                        <button class="control-btn secondary" onclick="importContentAndThemeSettings()">📥 استيراد
                            الإعدادات</button>
                    </div>
                </div>

                <div class="control-section">
                    <h3>📢 إدارة الشريط الإعلاني</h3>
                    <div class="control-row">
                        <span class="control-label">الإعلانات (كل إعلان في سطر)</span>
                        <div class="control-input">
                            <textarea id="announcementTextAdmin" rows="4" placeholder="اكتب كل إعلان في سطر منفصل:
🎆 مرحباً بكم في المسبحة الإلكترونية
🕊 لا تنسوا صلاة الفجر
💫 اذكروا الله كثيراً">🎆 مرحباً بكم في المسبحة الإلكترونية
🕊 لا تنسوا صلاة الفجر
💫 اذكروا الله كثيراً</textarea>
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">سرعة الحركة</span>
                        <div class="control-input">
                            <input type="range" id="announcementSpeed" min="10" max="60" value="40">
                            <span id="speedValue">40ث</span>
                        </div>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="updateAnnouncement()">📢 تحديث الإعلان</button>
                        <button class="control-btn secondary" onclick="toggleAnnouncementBar()">🔄 إظهار/إخفاء</button>
                    </div>
                </div>

                <div class="control-section">
                    <h3>🎨 إدارة الألوان والثيمات</h3>
                    <div class="control-row">
                        <span class="control-label">اللون الأساسي</span>
                        <div class="control-input">
                            <input type="color" id="primaryColor" value="#4CAF50">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">لون الخلفية</span>
                        <div class="control-input">
                            <input type="color" id="backgroundColor" value="#FFFFFF">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">لون النص</span>
                        <div class="control-input">
                            <input type="color" id="textColor" value="#333333">
                        </div>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="applyThemeSettings()">✨ تطبيق الألوان</button>
                        <button class="control-btn secondary" onclick="resetThemeSettings()">🔄 استعادة
                            الافتراضي</button>
                    </div>
                </div>

                <div class="control-section">
                    <h3>📱 إعدادات متقدمة</h3>
                    <div class="control-row">
                        <span class="control-label">الفونت العربي</span>
                        <div class="control-input">
                            <select id="arabicFont">
                                <option value="cairo">Cairo</option>
                                <option value="tajawal">Tajawal</option>
                                <option value="amiri">Amiri</option>
                            </select>
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">حجم الخط</span>
                        <div class="control-input">
                            <input type="range" id="fontSize" min="12" max="24" value="16">
                            <span id="fontSizeValue">16px</span>
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">تأثيرات الحركة</span>
                        <div class="control-input">
                            <select id="animationStyle">
                                <option value="fade">تلاشي</option>
                                <option value="slide">انزلاق</option>
                                <option value="none">بدون</option>
                            </select>
                        </div>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="saveAdvancedSettings()">💾 حفظ الإعدادات</button>
                        <button class="control-btn secondary" onclick="resetAdvancedSettings()">🔄 إعادة تعيين</button>
                    </div>
                </div>
            </div>

            <!-- تبويب الأمان -->
            <div class="admin-tab-content" id="security-tab" style="display: none;">
                <div class="control-section">
                    <h3>🔒 تغيير بيانات تسجيل الدخول</h3>
                    <div class="control-row">
                        <span class="control-label">اسم المستخدم الجديد</span>
                        <div class="control-input">
                            <input type="text" id="newAdminUsername" placeholder="أدخل اسم مستخدم جديد">
                        </div>
                    </div>
                    <div class="control-row">
                        <span class="control-label">كلمة المرور الجديدة</span>
                        <div class="control-input">
                            <input type="password" id="newAdminPassword" placeholder="أدخل كلمة مرور جديدة">
                        </div>
                    </div>
                    <div class="control-buttons">
                        <button class="control-btn" onclick="changeAdminCredentials()">🔄 تغيير بيانات الدخول</button>
                        <button class="control-btn danger" onclick="resetToDefault()">🔄 إعادة تعيين افتراضي</button>
                    </div>
                    <div
                        style="margin-top: 15px; padding: 10px; background: rgba(255, 193, 7, 0.1); border-radius: 8px; font-size: 0.9em;">
                        <strong>⚠️ ملاحظة:</strong> بيانات الدخول الافتراضية هي:<br>
                        اسم المستخدم: <code>admin</code><br>
                        كلمة المرور: <code>123456</code>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script src="main-functions.js"></script>
    <script src="إصلاح_إدارة_المحتوى.js"></script>
    <script src="مؤشر_الأذكار_الداخلي.js"></script>
    <script src="إصلاح_نهائي_شامل.js"></script>

    <script src="إصلاح_الصوت_النهائي.js"></script>
    <script src="نظام_الصلاة_القادمة_الجديد.js"></script>
    <script src="إصلاح_لوحة_التحكم_الكامل.js"></script>

    <script src="إصلاح_صوت_التسبيح.js"></script>
    <script src="إصلاح_وضع_المطور_والأقسام.js"></script>

    <!-- إصلاح لوحة التحكم النهائي -->
    <script src="إصلاح_لوحة_التحكم_النهائي.js"></script>

    <!-- إصلاح المواقيت النهائي -->
    <script src="إصلاح_المواقيت_النهائي.js"></script>

    <!-- إصلاح إدارة المحتوى والثيمات النهائي -->
    <script src="إصلاح_إدارة_المحتوى_والثيمات_النهائي.js"></script>

    <!-- فتح لوحة التحكم تلقائياً من الرابط المباشر -->
    <script>
        window.addEventListener('load', function () {
            const urlParams = new URLSearchParams(window.location.search);
            const currentUser = localStorage.getItem('currentUser');

            if (urlParams.get('admin') === 'true' && currentUser) {
                setTimeout(() => {
                    showControlPanel();
                }, 1000);
            }
        });
    </script>

    <!-- حماية ضد السرقة -->
    <script>
        // منع النقر بالزر الأيمن
        document.addEventListener('contextmenu', e => e.preventDefault());

        // منع اختصارات المطور
        document.addEventListener('keydown', function (e) {
            if (e.key === 'F12' ||
                (e.ctrlKey && e.shiftKey && e.key === 'I') ||
                (e.ctrlKey && e.shiftKey && e.key === 'C') ||
                (e.ctrlKey && e.key === 'U') ||
                (e.ctrlKey && e.key === 'S')) {
                e.preventDefault();
                return false;
            }
        });

        // منع التحديد والنسخ
        document.addEventListener('selectstart', e => e.preventDefault());
        document.addEventListener('dragstart', e => e.preventDefault());

        // حماية ضد طباعة الصفحة
        window.addEventListener('beforeprint', e => {
            e.preventDefault();
            alert('🚫 الطباعة غير مسموحة');
        });

        // إخفاء المصدر
        console.clear();
        console.log('%c🔒 هذا التطبيق محمي بحقوق الطبع والنشر', 'color: red; font-size: 20px; font-weight: bold;');
        console.log('%c© 2024 راشد ربيع - جميع الحقوق محفوظة', 'color: blue; font-size: 14px;');

        // مراقبة أدوات المطور
        setInterval(() => {
            if (window.outerHeight - window.innerHeight > 200 ||
                window.outerWidth - window.innerWidth > 200) {
                document.body.innerHTML = '<div style="text-align:center;padding:50px;font-size:24px;color:red;">🚫 غير مسموح بفتح أدوات المطور</div>';
            }
        }, 100);
    </script>

    <!-- SEO Content for Search Engines -->
    <div style="display: none;" id="seo-content">
        <h1>المسبحة الإلكترونية المجانية - تطبيق التسبيح والأذكار الإسلامي الشامل</h1>
        <h2>ميزات التطبيق الإسلامي المجاني</h2>
        <ul>
            <li>تسبيح إلكتروني بعداد ذكي وأصوات تفاعلية</li>
            <li>أذكار الصباح والمساء الكاملة مع العدد المطلوب</li>
            <li>مواقيت الصلاة الدقيقة مع عد تنازلي مباشر</li>
            <li>راديو القرآن الكريم من محطات مختارة</li>
            <li>وضع التركيز للتسبيح المكثف بدون تشتيت</li>
            <li>إحصائيات مفصلة للتسبيحات اليومية والإجمالية</li>
            <li>أدعية وأذكار متنوعة لجميع المناسبات</li>
            <li>تصميم متجاوب يعمل على جميع الأجهزة</li>
            <li>وضع ليلي ونهاري مريح للعينين</li>
            <li>حفظ تلقائي للبيانات والإعدادات</li>
        </ul>

        <h2>فئات الأذكار المتوفرة</h2>
        <ul>
            <li>أذكار الصباح - للبركة وبداية يوم مبارك</li>
            <li>أذكار المساء - للحماية والسكينة</li>
            <li>أذكار النوم - للراحة والأمان</li>
            <li>أذكار بعد الصلاة - لتكميل الثواب</li>
            <li>أذكار السفر - للحماية في الطريق</li>
            <li>أذكار الطعام - للبركة والشكر</li>
            <li>أذكار عامة - لجميع الأوقات</li>
        </ul>

        <h2>مواقيت الصلاة الدقيقة</h2>
        <p>يحسب التطبيق مواقيت الصلاة الخمس (الفجر، الظهر، العصر، المغرب، العشاء) بدقة عالية مع عرض الصلاة القادمة
            والوقت المتبقي لها. يمكن تخصيص المواقيت حسب الموقع الجغرافي.</p>

        <h2>راديو القرآن الكريم</h2>
        <p>استمع لتلاوات مختارة من القرآن الكريم من محطات إذاعية متنوعة أثناء التسبيح أو في أي وقت. التشغيل مستمر في
            الخلفية مع تحكم كامل في الصوت.</p>

        <h2>تطبيق مجاني بالكامل</h2>
        <p>المسبحة الإلكترونية تطبيق مجاني 100% بدون إعلانات أو رسوم خفية. يعمل مباشرة في المتصفح بدون تحميل أو تثبيت.
            صدقة جارية من المطور راشد ربيع لخدمة المسلمين في جميع أنحاء العالم.</p>

        <h2>كلمات مفتاحية للبحث</h2>
        <p>المسبحة الإلكترونية، تسبيح، أذكار، مواقيت الصلاة، راديو القرآن، تطبيق إسلامي، صدقة جارية، راشد ربيع،
            electronic tasbih, islamic app, prayer times, quran radio, dhikr counter, muslim app, free islamic app,
            تطبيق مجاني، أذكار الصباح، أذكار المساء، تسبيح إلكتروني، عداد التسبيح، تطبيق ديني، برنامج إسلامي، مسبحة
            رقمية</p>

        <h2>للمطور راشد ربيع</h2>
        <p>تم تطوير هذا التطبيق بعناية فائقة من قبل راشد ربيع كصدقة جارية لخدمة المسلمين. التطبيق مفتوح المصدر ومجاني
            للجميع مع التحديثات المستمرة والدعم التقني.</p>
    </div>

    <!-- JSON-LD Structured Data for Search Engines -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "المسبحة الإلكترونية",
        "alternateName": "Electronic Tasbih",
        "description": "تطبيق شامل مجاني للتسبيح والأذكار ومواقيت الصلاة وراديو القرآن الكريم",
        "url": "https://yoursite.com/",
        "applicationCategory": "Religious Application",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "author": {
            "@type": "Person",
            "name": "راشد ربيع"
        },
        "publisher": {
            "@type": "Person",
            "name": "راشد ربيع"
        },
        "inLanguage": "ar",
        "keywords": "المسبحة الإلكترونية, تسبيح, أذكار, مواقيت الصلاة, راديو القرآن, تطبيق إسلامي",
        "featureList": [
            "عداد تسبيح إلكتروني",
            "أذكار الصباح والمساء",
            "مواقيت الصلاة",
            "راديو القرآن الكريم",
            "وضع التركيز",
            "إحصائيات مفصلة"
        ]
    }

    // === دوال ربط لوحة التحكم بالتطبيق ===

    // إدارة الأذكار
    function addNewAzkar() {
        const category = document.getElementById('newAzkarCategory')?.value;
        const text = document.getElementById('newAzkarText')?.value?.trim();
        const count = parseInt(document.getElementById('newAzkarCount')?.value) || 1;

        if (!text) {
            alert('⚠️ يرجى إدخال نص الذكر');
            return;
        }

        // إضافة الذكر إلى البيانات الرئيسية
        if (typeof azkarData !== 'undefined') {
            if (!azkarData[category]) {
                azkarData[category] = [];
            }

            azkarData[category].push({
                text: text,
                count: count,
                id: Date.now()
            });

            // حفظ في localStorage
            const customAzkar = JSON.parse(localStorage.getItem('customAzkar') || '{}');
            if (!customAzkar[category]) {
                customAzkar[category] = [];
            }
            customAzkar[category].push({
                text: text,
                count: count,
                id: Date.now()
            });
            localStorage.setItem('customAzkar', JSON.stringify(customAzkar));

            // تنظيف النموذج
            document.getElementById('newAzkarText').value = '';
            document.getElementById('newAzkarCount').value = '1';

            // تحديث العرض في التطبيق الرئيسي
            refreshAzkarDisplay();

            alert('✅ تم إضافة الذكر بنجاح');
        } else {
            alert('❌ خطأ في النظام، يرجى إعادة تحميل الصفحة');
        }
    }

    // معاينة الأذكار المضافة
    function previewAzkar() {
        const category = document.getElementById('newAzkarCategory')?.value;
        const customAzkar = JSON.parse(localStorage.getItem('customAzkar') || '{}');

        if (!customAzkar[category] || customAzkar[category].length === 0) {
            alert('📋 لا توجد أذكار مخصصة في هذا التصنيف بعد');
            return;
        }

        let preview = `📿 الأذكار المخصصة في تصنيف "${getCategoryName(category)}":\n\n`;
        customAzkar[category].forEach((zikr, index) => {
            preview += `${index + 1}. ${zikr.text}\n   (يُقال ${zikr.count} ${zikr.count === 1 ? 'مرة' : 'مرات'})\n\n`;
        });

        alert(preview);
    }

    // الحصول على اسم التصنيف بالعربية
    function getCategoryName(category) {
        const names = {
            'morning': 'أذكار الصباح',
            'evening': 'أذكار المساء',
            'sleep': 'أذكار النوم',
            'prayer': 'أذكار الصلاة',
            'travel': 'أذكار السفر',
            'food': 'أذكار الطعام',
            'general': 'أذكار عامة'
        };
        return names[category] || category;
    }

    // إدارة المحتوى
    function updateAppContent() {
        try {
            const title = document.getElementById('appTitle')?.value?.trim();
            const description = document.getElementById('appDescription')?.value?.trim();
            const welcome = document.getElementById('welcomeMessage')?.value?.trim();

            console.log('تحديث المحتوى:', { title, description, welcome });

            if (title) {
                // تحديث العنوان في البانر
                const titleElement = document.querySelector('.banner h1');
                console.log('عنصر البانر:', titleElement);
                if (titleElement) {
                    titleElement.textContent = title;
                    console.log('تم تحديث عنوان البانر إلى:', title);
                }

                // تحديث عنوان الصفحة
                document.title = title;
                localStorage.setItem('appTitle', title);
                console.log('تم حفظ العنوان في localStorage');
            }

            if (description) {
                // تحديث وصف الصفحة
                const metaDesc = document.querySelector('meta[name="description"]');
                if (metaDesc) {
                    metaDesc.content = description;
                }
                localStorage.setItem('appDescription', description);
                console.log('تم حفظ الوصف في localStorage');
            }

            if (welcome) {
                localStorage.setItem('welcomeMessage', welcome);
                console.log('تم حفظ رسالة الترحيب في localStorage');
            }

            // إظهار رسالة نجاح مع تفاصيل
            let successMessage = '✅ تم تحديث محتوى التطبيق بنجاح!\n\n';
            if (title) successMessage += `🏷️ العنوان: ${title}\n`;
            if (description) successMessage += `📝 الوصف: ${description.substring(0, 50)}...\n`;
            if (welcome) successMessage += `👋 رسالة الترحيب: ${welcome.substring(0, 50)}...\n`;

            alert(successMessage);

            // إضافة تأثير بصري للتأكيد
            showVisualConfirmation();

        } catch (error) {
            console.error('خطأ في تحديث المحتوى:', error);
            alert('❌ حدث خطأ في تحديث المحتوى. يرجى المحاولة مرة أخرى.');
        }
    }

    // إظهار تأكيد بصري
    function showVisualConfirmation() {
        const banner = document.querySelector('.banner');
        if (banner) {
            // إضافة تأثير وميض أخضر
            banner.style.transition = 'all 0.3s ease';
            banner.style.boxShadow = '0 0 20px #4CAF50';
            banner.style.transform = 'scale(1.02)';

            setTimeout(() => {
                banner.style.boxShadow = '';
                banner.style.transform = '';
            }, 1000);
        }
    }

    // معاينة المحتوى
    function previewContent() {
        const title = document.getElementById('appTitle')?.value || 'غير محدد';
        const description = document.getElementById('appDescription')?.value || 'غير محدد';
        const welcome = document.getElementById('welcomeMessage')?.value || 'غير محدد';

        alert(`📋 معاينة المحتوى:\n\n🏷️ العنوان: ${title}\n📝 الوصف: ${description}\n👋 رسالة الترحيب: ${welcome}`);
    }

    // اختبار إدارة المحتوى
    function testContentManagement() {
        console.log('=== اختبار إدارة المحتوى ===');

        // التحقق من وجود العناصر
        const titleInput = document.getElementById('appTitle');
        const descInput = document.getElementById('appDescription');
        const welcomeInput = document.getElementById('welcomeMessage');
        const bannerTitle = document.querySelector('.banner h1');

        console.log('عناصر الإدخال:', {
            titleInput: !!titleInput,
            descInput: !!descInput,
            welcomeInput: !!welcomeInput,
            bannerTitle: !!bannerTitle
        });

        if (titleInput) console.log('قيمة العنوان الحالية:', titleInput.value);
        if (bannerTitle) console.log('نص البانر الحالي:', bannerTitle.textContent);

        // اختبار تحديث العنوان
        if (titleInput && bannerTitle) {
            const testTitle = 'اختبار العنوان - ' + new Date().getTime();
            titleInput.value = testTitle;
            updateAppContent();

            setTimeout(() => {
                console.log('العنوان بعد التحديث:', bannerTitle.textContent);
                console.log('هل تم التحديث؟', bannerTitle.textContent.includes('اختبار'));
            }, 100);
        }
    }

    // تصدير إعدادات المحتوى والثيمات
    function exportContentAndThemeSettings() {
        const settings = {
            version: '2.0',
            timestamp: new Date().toISOString(),
            content: {
                appTitle: localStorage.getItem('appTitle'),
                appDescription: localStorage.getItem('appDescription'),
                welcomeMessage: localStorage.getItem('welcomeMessage')
            },
            customAzkar: JSON.parse(localStorage.getItem('customAzkar') || '{}'),
            prayerSettings: {
                manualTimes: JSON.parse(localStorage.getItem('manualPrayerTimes') || '{}'),
                manualActive: localStorage.getItem('manualPrayerTimesActive') === 'true'
            },
            adhanSettings: {
                volume: localStorage.getItem('adhanVolume'),
                enabled: localStorage.getItem('adhanEnabled') !== 'false'
            },
            theme: {
                darkMode: document.body.classList.contains('dark-mode'),
                animations: localStorage.getItem('animationsEnabled') !== 'false',
                sound: localStorage.getItem('soundEnabled') !== 'false'
            }
        };

        const dataStr = JSON.stringify(settings, null, 2);
        const dataBlob = new Blob([dataStr], { type: 'application/json' });
        const url = URL.createObjectURL(dataBlob);

        const link = document.createElement('a');
        link.href = url;
        link.download = `islamic-app-settings-${new Date().toISOString().split('T')[0]}.json`;
        link.click();

        URL.revokeObjectURL(url);
        alert('✅ تم تصدير إعدادات التطبيق بنجاح');
    }

    // استيراد إعدادات المحتوى والثيمات
    function importContentAndThemeSettings() {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = '.json';

        input.onchange = function(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const settings = JSON.parse(e.target.result);

                    // استيراد المحتوى
                    if (settings.content) {
                        if (settings.content.appTitle) {
                            localStorage.setItem('appTitle', settings.content.appTitle);
                        }
                        if (settings.content.appDescription) {
                            localStorage.setItem('appDescription', settings.content.appDescription);
                        }
                        if (settings.content.welcomeMessage) {
                            localStorage.setItem('welcomeMessage', settings.content.welcomeMessage);
                        }
                    }

                    // استيراد الأذكار المخصصة
                    if (settings.customAzkar) {
                        localStorage.setItem('customAzkar', JSON.stringify(settings.customAzkar));
                    }

                    // استيراد إعدادات الصلاة
                    if (settings.prayerSettings) {
                        if (settings.prayerSettings.manualTimes) {
                            localStorage.setItem('manualPrayerTimes', JSON.stringify(settings.prayerSettings.manualTimes));
                        }
                        if (settings.prayerSettings.manualActive !== undefined) {
                            localStorage.setItem('manualPrayerTimesActive', settings.prayerSettings.manualActive);
                        }
                    }

                    // استيراد إعدادات الأذان
                    if (settings.adhanSettings) {
                        if (settings.adhanSettings.volume) {
                            localStorage.setItem('adhanVolume', settings.adhanSettings.volume);
                        }
                        if (settings.adhanSettings.enabled !== undefined) {
                            localStorage.setItem('adhanEnabled', settings.adhanSettings.enabled);
                        }
                    }

                    alert('✅ تم استيراد الإعدادات بنجاح، سيتم إعادة تحميل الصفحة');
                    setTimeout(() => {
                        location.reload();
                    }, 1000);

                } catch (error) {
                    alert('❌ خطأ في قراءة ملف الإعدادات');
                }
            };
            reader.readAsText(file);
        };

        input.click();
    }

    // إعادة تعيين المحتوى إلى القيم الافتراضية
    function resetContentToDefault() {
        if (confirm('⚠️ هل تريد إعادة تعيين جميع نصوص التطبيق إلى القيم الافتراضية؟')) {
            // القيم الافتراضية
            const defaultContent = {
                title: 'المسبحة الإلكترونية - صدقة جارية',
                description: 'تطبيق إسلامي شامل للتسبيح والأذكار ومواقيت الصلاة',
                welcome: 'بسم الله الرحمن الرحيم\nأهلاً وسهلاً بك في المسبحة الإلكترونية'
            };

            // تحديث الحقول في لوحة التحكم
            const titleInput = document.getElementById('appTitle');
            const descInput = document.getElementById('appDescription');
            const welcomeInput = document.getElementById('welcomeMessage');

            if (titleInput) titleInput.value = defaultContent.title;
            if (descInput) descInput.value = defaultContent.description;
            if (welcomeInput) welcomeInput.value = defaultContent.welcome;

            // تطبيق التغييرات
            updateAppContent();

            alert('✅ تم إعادة تعيين المحتوى إلى القيم الافتراضية');
        }
    }

    // تحميل المحتوى المحفوظ في لوحة التحكم
    function loadSavedContentToAdmin() {
        try {
            const savedTitle = localStorage.getItem('appTitle');
            const savedDesc = localStorage.getItem('appDescription');
            const savedWelcome = localStorage.getItem('welcomeMessage');

            console.log('تحميل المحتوى المحفوظ:', { savedTitle, savedDesc, savedWelcome });

            // تحميل العنوان
            const titleInput = document.getElementById('appTitle');
            if (titleInput) {
                if (savedTitle) {
                    titleInput.value = savedTitle;
                    console.log('تم تحميل العنوان:', savedTitle);
                } else {
                    titleInput.value = 'المسبحة الإلكترونية - صدقة جارية';
                }
            }

            // تحميل الوصف
            const descInput = document.getElementById('appDescription');
            if (descInput) {
                if (savedDesc) {
                    descInput.value = savedDesc;
                    console.log('تم تحميل الوصف:', savedDesc);
                } else {
                    descInput.value = 'تطبيق إسلامي شامل للتسبيح والأذكار ومواقيت الصلاة';
                }
            }

            // تحميل رسالة الترحيب
            const welcomeInput = document.getElementById('welcomeMessage');
            if (welcomeInput) {
                if (savedWelcome) {
                    welcomeInput.value = savedWelcome;
                    console.log('تم تحميل رسالة الترحيب:', savedWelcome);
                } else {
                    welcomeInput.value = 'بسم الله الرحمن الرحيم\nأهلاً وسهلاً بك في المسبحة الإلكترونية';
                }
            }

        } catch (error) {
            console.error('خطأ في تحميل المحتوى:', error);
        }
    }

    // تحديث دالة تهيئة لوحة التحكم
    function initializeAdminPanel() {
        // إظهار التبويب الأول (الأذكار) افتراضياً
        showAdminTab('azkar');
        // تحميل المحتوى المحفوظ
        setTimeout(() => {
            loadSavedContentToAdmin();
        }, 100);
    }

    // تحميل المحتوى المحفوظ عند بدء التطبيق
    function loadSavedContent() {
        try {
            const savedTitle = localStorage.getItem('appTitle');
            const savedDesc = localStorage.getItem('appDescription');

            console.log('تحميل المحتوى عند بدء التطبيق:', { savedTitle, savedDesc });

            // تحديث العنوان
            if (savedTitle) {
                const titleElement = document.querySelector('.banner h1');
                if (titleElement) {
                    titleElement.textContent = savedTitle;
                    console.log('تم تحديث عنوان البانر إلى:', savedTitle);
                }
                document.title = savedTitle;
            }

            // تحديث الوصف
            if (savedDesc) {
                const metaDesc = document.querySelector('meta[name="description"]');
                if (metaDesc) {
                    metaDesc.content = savedDesc;
                }
            }

        } catch (error) {
            console.error('خطأ في تحميل المحتوى المحفوظ:', error);
        }
    }

    // تحميل الأذكار المخصصة
    function loadCustomAzkar() {
        const customAzkar = JSON.parse(localStorage.getItem('customAzkar') || '{}');

        // دمج الأذكار المخصصة مع الأذكار الافتراضية
        Object.keys(customAzkar).forEach(category => {
            if (typeof azkarData !== 'undefined' && azkarData[category]) {
                // إضافة الأذكار المخصصة إلى نهاية كل تصنيف
                azkarData[category] = [...azkarData[category], ...customAzkar[category]];
            }
        });
    }

    // تحديث عرض الأذكار في التطبيق الرئيسي
    function refreshAzkarDisplay() {
        // إعادة تحميل الأذكار المخصصة
        loadCustomAzkar();

        // تحديث العرض إذا كان قسم الأذكار مفتوحاً
        if (typeof displayAzkar === 'function' && typeof currentAzkarCategory !== 'undefined') {
            displayAzkar(currentAzkarCategory);
        }
    }

    // === إدارة مواقيت الصلاة ===
    function saveManualPrayerTimes() {
        // تحويل النصوص إلى كائنات وقت
        function parseTime(str) {
            if (!str) return null;
            const parts = str.split(':');
            let hour = parseInt(parts[0]);
            let minute = parseInt(parts[1]);
            return { hour, minute };
        }

        const manualTimes = {
            fajr: parseTime(document.getElementById('fajrTime')?.value),
            dhuhr: parseTime(document.getElementById('dhuhrTime')?.value),
            asr: parseTime(document.getElementById('asrTime')?.value),
            maghrib: parseTime(document.getElementById('maghribTime')?.value),
            isha: { hour: 21, minute: 25 } // دائماً 9:25
        };

        // التحقق من ملء جميع الحقول
        if (!manualTimes.fajr || !manualTimes.dhuhr || !manualTimes.asr || !manualTimes.maghrib || !manualTimes.isha) {
            alert('⚠️ يرجى ملء جميع مواقيت الصلاة');
            return;
        }

        // حفظ المواقيت
        localStorage.setItem('manualPrayerTimes', JSON.stringify(manualTimes));
        localStorage.setItem('manualPrayerTimesActive', 'true');

        // تحديث العرض في التطبيق الرئيسي
        if (typeof updatePrayerTimesDisplay === 'function') {
            updatePrayerTimesDisplay();
        }

        alert('💾 تم حفظ المواقيت اليدوية بنجاح');
    }

    function enableAutoPrayerTimes() {
        localStorage.setItem('manualPrayerTimesActive', 'false');

        // تحديث العرض
        if (typeof updatePrayerTimesDisplay === 'function') {
            updatePrayerTimesDisplay();
        }

        alert('🌐 تم تفعيل المواقيت التلقائية');
    }

    // دوال بديلة للأزرار الموجودة
    function savePrayerTimes() {
        saveManualPrayerTimes();
    }

    function resetPrayerTimes() {
        if (confirm('⚠️ هل تريد إعادة تعيين المواقيت إلى القيم الافتراضية؟')) {
            // إعادة تعيين إلى مواقيت افتراضية
            const defaultTimes = {
                fajr: '05:30',
                dhuhr: '12:30',
                asr: '15:45',
                maghrib: '18:15',
                isha: '19:45'
            };

            Object.keys(defaultTimes).forEach(prayer => {
                const input = document.getElementById(`${prayer}Time`);
                if (input) {
                    input.value = defaultTimes[prayer];
                }
            });

            alert('🔄 تم إعادة تعيين المواقيت');
        }
    }

    function updatePrayerTime(prayer) {
        // تحديث فوري عند تغيير الوقت
        console.log(`تم تحديث وقت ${prayer}`);
    }

    function showSelectedFile() {
        const fileInput = document.getElementById('adhanFileUpload');
        const fileName = document.getElementById('selectedFileName');

        if (fileInput.files.length > 0) {
            fileName.textContent = `تم اختيار: ${fileInput.files[0].name}`;
            fileName.style.color = '#4CAF50';
        } else {
            fileName.textContent = 'اختر ملف صوتي (MP3, WAV)';
            fileName.style.color = '#666';
        }
    }

    // === إدارة الأذان ===
    function testAdhan() {
        alert('🎵 جاري تشغيل الأذان للتجربة...');

        // تشغيل صوت الأذان
        playAdhanSound();
    }

    // إعادة تعيين نظام الأذان (لحل مشاكل عدم التشغيل)
    function resetAdhanSystem() {
        if (confirm('⚠️ هل تريد إعادة تعيين نظام الأذان؟\nسيتم حذف سجل الأذان السابق وإعادة تفعيل النظام.')) {
            // حذف سجل آخر أذان
            localStorage.removeItem('lastAdhanTime');

            // إعادة تفعيل الأذان
            localStorage.setItem('adhanEnabled', 'true');

            // إعادة تفعيل الأذان لجميع الصلوات
            const adhanSettings = {
                fajr: true,
                dhuhr: true,
                asr: true,
                maghrib: true,
                isha: true
            };
            localStorage.setItem('adhanSettings', JSON.stringify(adhanSettings));

            alert('✅ تم إعادة تعيين نظام الأذان بنجاح!\nسيعمل الأذان الآن في جميع الصلوات.');

            // إعادة تحميل المتغيرات
            if (typeof lastAdhanTime !== 'undefined') {
                lastAdhanTime = '';
            }
        }
    }

    // اختبار نظام الأذان الكامل
    function testAdhanSystem() {
        console.log('=== اختبار نظام الأذان ===');

        // التحقق من الإعدادات
        const adhanEnabled = localStorage.getItem('adhanEnabled') !== 'false';
        const adhanSettings = JSON.parse(localStorage.getItem('adhanSettings') || '{}');
        const lastAdhan = localStorage.getItem('lastAdhanTime') || 'لا يوجد';

        console.log('إعدادات الأذان:', {
            enabled: adhanEnabled,
            settings: adhanSettings,
            lastAdhan: lastAdhan
        });

        // التحقق من مواقيت الصلاة
        console.log('مواقيت الصلاة الحالية:', prayerTimes);

        // اختبار تحويل الوقت
        Object.keys(prayerTimes).forEach(prayer => {
            if (prayer !== 'sunrise') {
                const time24 = convertTo24Hour(prayerTimes[prayer]);
                console.log(`${getPrayerName(prayer)}: ${prayerTimes[prayer]} → ${time24}`);
            }
        });

        alert('🔧 تم اختبار نظام الأذان، راجع وحدة التحكم للتفاصيل');
    }

    function saveAdhanSettings() {
        const volume = document.getElementById('adhanVolume')?.value || 50;
        const enabled = document.getElementById('adhanEnabled')?.checked !== false;

        localStorage.setItem('adhanVolume', volume);
        localStorage.setItem('adhanEnabled', enabled);

        alert('💾 تم حفظ إعدادات الأذان بنجاح');
    }

    function stopAdhan() {
        // إيقاف الأذان إذا كان يعمل
        if (typeof stopCurrentAdhan === 'function') {
            stopCurrentAdhan();
        }
        alert('⏹️ تم إيقاف الأذان');
    }

    // === إدارة الأمان ===
    function changeAdminCredentials() {
        const newUsername = document.getElementById('newUsername')?.value?.trim();
        const newPassword = document.getElementById('newPassword')?.value?.trim();

        if (!newUsername || !newPassword) {
            alert('⚠️ يرجى ملء جميع الحقول');
            return;
        }

        if (newPassword.length < 4) {
            alert('⚠️ كلمة المرور يجب أن تكون 4 أحرف على الأقل');
            return;
        }

        // حفظ بيانات الدخول الجديدة
        localStorage.setItem('adminUsername', newUsername);
        localStorage.setItem('adminPassword', newPassword);

        // تنظيف الحقول
        document.getElementById('newUsername').value = '';
        document.getElementById('newPassword').value = '';

        alert('🔄 تم تغيير بيانات الدخول بنجاح');
    }

    function resetToDefault() {
        if (confirm('⚠️ هل أنت متأكد من إعادة تعيين جميع الإعدادات؟\nسيتم حذف جميع البيانات المخصصة!')) {
            // حذف البيانات المخصصة
            localStorage.removeItem('customAzkar');
            localStorage.removeItem('appTitle');
            localStorage.removeItem('appDescription');
            localStorage.removeItem('welcomeMessage');
            localStorage.removeItem('manualPrayerTimes');
            localStorage.removeItem('manualPrayerTimesActive');
            localStorage.removeItem('adhanVolume');
            localStorage.removeItem('adhanEnabled');

            // إعادة تحميل الصفحة
            alert('✅ تم إعادة تعيين الإعدادات، سيتم إعادة تحميل الصفحة');
            setTimeout(() => {
                location.reload();
            }, 1000);
        }
    }

    // === تحميل الإعدادات في لوحة التحكم ===
    function loadAdminSettings() {
        // تحميل إعدادات الأذان
        const adhanVolume = localStorage.getItem('adhanVolume') || '50';
        const adhanEnabled = localStorage.getItem('adhanEnabled') !== 'false';

        if (document.getElementById('adhanVolume')) {
            document.getElementById('adhanVolume').value = adhanVolume;
        }
        if (document.getElementById('adhanEnabled')) {
            document.getElementById('adhanEnabled').checked = adhanEnabled;
        }

        // تحميل المواقيت اليدوية
        const manualTimes = JSON.parse(localStorage.getItem('manualPrayerTimes') || '{}');
        Object.keys(manualTimes).forEach(prayer => {
            const input = document.getElementById(`${prayer}Time`);
            if (input) {
                let value = manualTimes[prayer];
                if (value && typeof value === 'object' && value.hour !== undefined && value.minute !== undefined) {
                    // تحويل الكائن إلى نص hh:mm
                    value = value.hour.toString().padStart(2, '0') + ':' + value.minute.toString().padStart(2, '0');
                }
                input.value = value;
            }
        });
    }

    // تحديث دالة تهيئة لوحة التحكم
    function initializeAdminPanel() {
        // إظهار التبويب الأول (الأذكار) افتراضياً
        showAdminTab('azkar');
        // تحميل المحتوى والإعدادات المحفوظة
        setTimeout(() => {
            loadSavedContentToAdmin();
            loadAdminSettings();
        }, 100);
    }

    // تشغيل التحميل عند بدء التطبيق
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(() => {
            loadSavedContent();
            loadCustomAzkar();
        }, 500);
    });

    </script>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyDnkHyomMCGVZi36mv3CVoUetHO9HJ_kA8",
            authDomain: "islamic-electronic.firebaseapp.com",
            projectId: "islamic-electronic",
            storageBucket: "islamic-electronic.firebasestorage.app",
            messagingSenderId: "911387104775",
            appId: "1:911387104775:web:b2d83ca4b84c14ebf2bca2",
            measurementId: "G-PZPN9MR8J2"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
    </script>

</body>

</html>
